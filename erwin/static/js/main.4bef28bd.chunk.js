(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(23)},16:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(7),l=n.n(r),i=(n(16),n(4)),u=n.n(i),o=n(8),s=n(2),m=n(9),f=n(10),d=function(e){var t=e.title,n=e.image,a=e.onClick,r=e.active;return c.a.createElement("div",{className:"item ".concat(r?"active":""),onClick:a},c.a.createElement("div",{className:"image"},c.a.createElement("img",{src:n,alt:""})),c.a.createElement("div",{className:"title"},t))},g=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)([]),i=Object(s.a)(l,2),g=i[0],h=i[1],p=Object(a.useState)(null),v=Object(s.a)(p,2),E=v[0],b=v[1],O=Object(a.useState)([]),j=Object(s.a)(O,2),w=j[0],k=j[1],S=Object(a.useState)(null),y=Object(s.a)(S,2),C=y[0],N=y[1],x=Object(a.useState)(""),J=Object(s.a)(x,2),F=J[0],I=J[1],L=Object(a.useState)(null),R=Object(s.a)(L,2),T=R[0],z=R[1];Object(a.useEffect)(function(){setTimeout(function(){return A()},500)},[]),Object(a.useEffect)(function(){n&&fetch("https://52.49.219.94:5000/playlists").then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);t&&h(t.body.items)})},[n]),Object(a.useEffect)(function(){E&&fetch("https://52.49.219.94:5000/songs/".concat(E)).then(function(e){return e.text()}).then(function(e){var t=JSON.parse(e);t&&k(t.body.tracks.items)})},[E]),Object(a.useEffect)(function(){if(C){I(""),z(null);var e=window.localStorage.getItem(C);if(e){var t=JSON.parse(e),n=t.txt,a=t.img;I(n),z(a)}}},[C]),Object(a.useEffect)(function(){C&&window.localStorage.setItem(C,JSON.stringify({img:T,txt:F}))},[C,T,F]);var A=function(){var e=Object(o.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=window.location.href).includes("?code")&&(n=t.split("?code=")[1],fetch("https://52.49.219.94:5000/access/".concat(n)).then(function(){r(!0)}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"items"},c.a.createElement("div",{className:"title"},n?w.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{icon:f.a,onClick:function(){N(null),k([]),I(""),z(null),b(null)}}),"Choose a song"):"Choose a playlist":"Connect with Spotify"),c.a.createElement("div",null,c.a.createElement(c.a.Fragment,null,!n&&c.a.createElement("div",{className:"connect",onClick:function(){fetch("https://52.49.219.94:5000/authorize").then(function(e){return e.text()}).then(function(e){window.location=e})}},"Connect"),n&&g.length&&!w.length?c.a.createElement(c.a.Fragment,null,g.map(function(e){return c.a.createElement(d,{title:e.name,image:e.images[0].url,onClick:function(){return b(e.id)}})})):null,n&&w.length?c.a.createElement(c.a.Fragment,null,w.map(function(e){var t=e.track.artists[0].name,n=e.track.name,a=e.track.album.images[0]&&e.track.album.images[0].url;return e.track.id?c.a.createElement(d,{title:"".concat(t," - ").concat(n),image:a,onClick:function(){return N(e.track.id)},active:e.track.id===C}):null})):null))),C&&c.a.createElement("div",{className:"details"},c.a.createElement("div",null,c.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){z(n.result)},!1),t&&n.readAsDataURL(t)}}),c.a.createElement("img",{src:T,alt:""})),c.a.createElement("textarea",{type:"text",placeholder:"Type your memory here",value:F,onChange:function(e){return I(e.target.value)}})))};l.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.4bef28bd.chunk.js.map