{"version":3,"sources":["utils/utils.js","stores/beatmaker.js","utils/context.js","components/Error.js","components/Tick.js","components/Wave.js","components/Sound.js","components/App.js","index.js"],"names":["playSound","_ref","mute","file","start","end","volume","type","sound","Howl","src","format","split","startAt","duration","stopAt","seek","play","setTimeout","stop","storage","window","localStorage","BeatmakerStore","_this","this","Object","classCallCheck","initialize","beats","get","id","name","set","bpm","tickCount","ticks","sounds","beat1","beat","forEach","base64","blob","base64StringToBlob","URL","createObjectURL","toConsumableArray","nextTick","playing","next","currentTick","stepsPerTick","addBpm","amount","addTickCount","playSounds","length","soundId","find","s","toggleSound","tickId","includes","index","indexOf","splice","setTicks","push","setCurrentTick","setTime","value","_value","slicedToArray","findIndex","setTid","tid","setVolume","percentage","setFile","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","setError","abrupt","startsWith","concat","size","toFixed","blobToBase64String","sent","_x","_x2","apply","arguments","setName","e","target","setPlaying","undefined","error","JSON","parse","getItem","setItem","stringify","decorate","action","observable","uploadConfig","beatmaker","StoreContext","React","createContext","beatmakerStore","Error","observer","_useContext$beatmaker","useContext","react_default","createElement","className","index_es","icon","faTimes","onClick","colors","color","Tick","active","style","map","key","background","opacity","Wave","time","_useState","useState","_useState2","ref","setRef","_useState3","_useState4","useEffect","innerHTML","WaveSurfer","create","container","waveColor","progressColor","cursorWidth","height","responsive","load","width","Sound","_ref$sound","c","faPlay","onChange","files","faUpload","components_Wave","es","min","max","pushable","vertical","App","_useContext$beatmaker2","i","clearTimeout","onKeyDown","keyCode","tabIndex","components_Error","isMobile","faBan","react","faPause","faStop","faSortUp","faSortDown","tick","shouldWrap","innerWidth","Fragment","components_Tick","marginRight","components_Sound","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.6ffa4fa8.chunk.js","sourcesContent":["import { Howl } from 'howler';\n\nexport const playSound = ({ file, start, end, volume, type }, mute) => {\n    const sound = type ? new Howl({ src: [file], format: [type.split('/')[1]] }) : new Howl({ src: [file] });\n    const startAt = sound.duration() * (start / 100);\n    const stopAt = sound.duration() * (end / 100) - startAt;\n    sound.seek(startAt);\n    sound.volume(mute ? 0 : volume);\n    sound.play();\n    setTimeout(() => sound.stop(), stopAt * 1000);\n};","import { observable, action, decorate } from 'mobx';\nimport { blobToBase64String, base64StringToBlob } from 'blob-util';\n\nimport { playSound } from '../utils/utils';\n\nconst storage = window.localStorage;\n\nclass BeatmakerStore {\n    constructor() {\n        this.beat = {};\n        this.stepsPerTick = 4;\n        this.currentTick = 0;\n        this.tid = 0;\n        this.playing = false;\n        this.playSound = playSound;\n        this.error = '';\n    };\n\n    initialize = () => {\n        let beats = this.get('beats');\n        if (!beats) {\n            beats = [\n                { id: 'beat-1', name: 'New beat' },\n            ];\n            this.set('beats', beats);\n\n            const beat = {\n                id: 'beat-1',\n                name: 'New beat',\n                bpm: 144,\n                tickCount: 4,\n                ticks: [\n                    { id: 0, sounds: [] },\n                    { id: 1, sounds: [] },\n                    { id: 2, sounds: [] },\n                    { id: 3, sounds: [] },\n                    { id: 4, sounds: [] },\n                    { id: 5, sounds: [] },\n                    { id: 6, sounds: [] },\n                    { id: 7, sounds: [] },\n                    { id: 8, sounds: [] },\n                    { id: 9, sounds: [] },\n                    { id: 10, sounds: [] },\n                    { id: 11, sounds: [] },\n                    { id: 12, sounds: [] },\n                    { id: 13, sounds: [] },\n                    { id: 14, sounds: [] },\n                    { id: 15, sounds: [] },\n                ],\n                sounds: [\n                    { id: 1, file: 'sounds/kick.wav', start: 0, end: 100, volume: 1 },\n                    { id: 2, file: 'sounds/hihat.wav', start: 0, end: 100, volume: 1 },\n                    { id: 3, file: 'sounds/snare.wav', start: 0, end: 100, volume: 1 },\n                    { id: 4, file: 'sounds/clap.wav', start: 0, end: 100, volume: 1 },\n                    { id: 5, file: 'sounds/perc.wav', start: 0, end: 100, volume: 1 },\n                    { id: 6, file: 'sounds/808.wav', start: 0, end: 100, volume: 1 },\n                ],\n            };\n\n            this.set('beat-1', beat);\n        }\n\n        const beat1 = this.get('beat-1');\n\n        // storage.removeItem('beat-1');\n        // storage.removeItem('beats');\n\n        this.beat = beat1;\n        this.bpm = beat1.bpm;\n        this.sounds = beat1.sounds;\n        this.tickCount = beat1.tickCount;\n        this.ticks = beat1.ticks;\n\n        this.sounds.forEach(sound => {\n            if (sound.base64) {\n                const blob = base64StringToBlob(sound.base64);\n                sound.file = URL.createObjectURL(blob);\n            }\n        });\n\n        this.beat.sounds = [...this.sounds];\n        this.set(this.beat.id, this.beat);\n    };\n\n    nextTick = () => {\n        if (!this.playing) return;\n\n        const next = this.currentTick + 1;\n        if (next === this.tickCount * this.stepsPerTick) {\n            this.currentTick = 0;\n        } else {\n            this.currentTick = next;\n        }\n    };\n\n    addBpm = (amount) => {\n        if (this.beat.bpm + amount === 181 || this.beat.bpm + amount === 59) return;\n        this.beat.bpm = this.beat.bpm + amount;\n        this.set(this.beat.id, this.beat);\n    };\n\n    addTickCount = (amount) => {\n        if (this.beat.tickCount + amount === 17 || this.beat.tickCount + amount === 3) return;\n        this.beat.tickCount = this.beat.tickCount + amount;\n        this.set(this.beat.id, this.beat);\n    };\n\n    playSounds = () => {\n        if (!this.beat.ticks.length) return;\n        this.beat.ticks[this.currentTick].sounds.forEach(soundId => {\n            const sound = this.beat.sounds.find(s => s.id === soundId);\n            playSound(sound);\n        });\n    };\n\n    toggleSound = (soundId, tickId) => {\n        if (this.beat.ticks[tickId].sounds.includes(soundId)) {\n            const index = this.beat.ticks[tickId].sounds.indexOf(soundId);\n            this.beat.ticks[tickId].sounds.splice(index, 1);\n            this.setTicks([...this.beat.ticks]);\n        } else {\n            this.beat.ticks[tickId].sounds.push(soundId);\n            this.setTicks([...this.beat.ticks]);\n        }\n    };\n\n    setCurrentTick = (currentTick) => {\n        this.currentTick = currentTick;\n    };\n\n    setTime = (soundId, value) => {\n        const [start, end] = value;\n        const index = this.beat.sounds.findIndex(s => s.id === soundId);\n        this.beat.sounds[index].start = start;\n        this.beat.sounds[index].end = end;\n        this.beat.sounds = [...this.beat.sounds];\n        this.set(this.beat.id, this.beat);\n    };\n\n    setTicks = (ticks) => {\n        if (ticks.length) {\n            this.beat.ticks = ticks;\n            this.set(this.beat.id, this.beat);\n        }\n    };\n\n    setTid = (tid) => {\n        this.tid = tid;\n    };\n\n    setVolume = (soundId, percentage) => {\n        const index = this.beat.sounds.findIndex(s => s.id === soundId);\n        this.beat.sounds[index].volume = percentage;\n        this.beat.sounds = [...this.beat.sounds];\n        this.set(this.beat.id, this.beat);\n    };\n\n    setFile = async (soundId, file) => {\n        if (!file) {\n            this.setError('No file found');\n            return;\n        } else if (!file.type.startsWith('audio')) {\n            this.setError(`No audiofile. Found type: ${file.type}`);\n            return;\n        } else if (file.size > 1000000) {\n            this.setError(`File too large, max 1MB. Found size: ${(file.size / 1000000).toFixed(2)}MB`);\n            return;\n        }\n\n        const base64 = await blobToBase64String(file);\n        \n        const blob = await base64StringToBlob(base64);\n        const src = URL.createObjectURL(blob);\n\n        const index = this.beat.sounds.findIndex(s => s.id === soundId);\n\n        this.beat.sounds[index].file = src;\n        this.beat.sounds[index].base64 = base64;\n        this.beat.sounds[index].type = file.type;\n        this.beat.sounds = [...this.beat.sounds];\n        this.set(this.beat.id, this.beat);\n        playSound(this.beat.sounds[index], true);\n    };\n\n    setName = (e) => {\n        this.beat.name = e.target.value;\n        this.set(this.beat.id, this.beat);\n    };\n\n    setPlaying = (playing = !this.playing) => {\n        this.playing = playing;\n    };\n\n    get(id) {\n        return JSON.parse(storage.getItem(id));\n    };\n\n    set(id, value) {\n        storage.setItem(id, JSON.stringify(value));\n    };\n\n    setError = (error) => {\n        this.error = error;\n        setTimeout(() => this.error = '', 4000);\n    };\n};\n\ndecorate(BeatmakerStore, {\n    initialize: action,\n    stepsPerTick: observable,\n    currentTick: observable,\n    tid: observable,\n    beat: observable,\n    playing: observable,\n    error: observable,\n    nextTick: action,\n    addBpm: action,\n    addTickCount: action,\n    toggleSound: action,\n    setCurrentTick: action,\n    setTime: action,\n    setTicks: action,\n    setTid: action,\n    setFile: action,\n    setPlaying: action,\n    uploadConfig: action,\n    setError: action,\n});\n\nexport default new BeatmakerStore();","import React from 'react';\n\nimport beatmakerStore from '../stores/beatmaker';\n\nconst StoreContext = React.createContext({ beatmakerStore });\n\nexport default StoreContext;","import React, { useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes, } from '@fortawesome/free-solid-svg-icons';\nimport { observer } from 'mobx-react-lite';\n\nimport StoreContext from '../utils/context';\n\nconst Error = observer(() => {\n\n    const { beatmakerStore: { error, setError } } = useContext(StoreContext);\n\n    return (\n        <div className={`error ${error.length ? 'error-active' : ''}`}>\n            {error}\n            <FontAwesomeIcon icon={faTimes} onClick={() => setError('')} />\n        </div>\n    )\n});\n\nexport default Error;","import React from 'react';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Tick = ({ id, sounds, active, toggleSound, style }) => (\n    <div className={`tick ${active ? 'active' : ''}`} style={style} >\n        {colors.map(color => (\n            <div\n                key={color.id}\n                className='sound-in-tick'\n                style={{ background: color.color, opacity: sounds.includes(color.id) ? '1' : '0.2' }}\n                onClick={() => toggleSound(color.id, id)}\n            ></div>\n        ))}\n    </div>\n);\n\nexport default Tick;","import React, { useEffect, useState } from 'react';\nimport WaveSurfer from 'wavesurfer.js';\n\n// import { fileExists } from '../utils/utils';\n\nconst Wave = ({ src, id, time }) => {\n\n    const [ref, setRef] = useState(null);\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        if (!ref) return;\n        setError(false);\n        ref.innerHTML = '';\n        const wavesurfer = WaveSurfer.create({\n            container: ref,\n            waveColor: 'gray',\n            progressColor: 'transparent',\n            cursorWidth: '0',\n            height: '80',\n            responsive: true\n        });\n\n        // const splitted = src.split('|||');\n        // if (splitted[1]) {\n        //     fileExists(splitted[1])\n        //         .then(() => {\n        //             wavesurfer.load(splitted[1]);        \n        //         })\n        //         .catch(() => {\n        //             setError(true);\n        //         })\n        // } else {\n        //     wavesurfer.load(src);\n        // }\n\n        wavesurfer.load(src);\n    }, [ref, src]);\n\n    return (\n        <div className='waveform'>\n            {error && (<div className='error'>NO AUDIO</div>)}\n            <div className='start' style={{ width: `${time[0]}%` }}></div>\n            <div className='end' style={{ width: `${100 - time[1]}%` }}></div>\n            <div className='wave' ref={setRef}></div>\n        </div>\n    );\n};\n\nexport default Wave;","import React, { useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faUpload } from '@fortawesome/free-solid-svg-icons';\nimport Slider, { Range } from 'rc-slider';\nimport 'rc-slider/assets/index.css';\nimport { observer } from 'mobx-react-lite';\n\nimport Wave from './Wave.js';\nimport StoreContext from '../utils/context';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Sound = observer(({ sound, sound: { id, file, start, end, volume }}) => {\n\n    const { beatmakerStore: {\n        playSound,\n        setTime,\n        setVolume,\n        setFile,\n    } } = useContext(StoreContext);\n\n    const uploadAudio = (e) => {\n        setFile(id, e.target.files[0]);\n    };\n\n    return (\n        <div\n            className='sound-container'\n            style={{ background: colors.find(c => c.id === id).color }}\n        >\n            <div>\n                <div onClick={() => playSound(sound)} className='button'>\n                    <FontAwesomeIcon icon={faPlay} />\n                </div>\n                <div className='button'>\n                    <input type='file' name='file' onChange={uploadAudio} />\n                    <FontAwesomeIcon icon={faUpload} />\n                </div>\n            </div>\n            <div className='wave'>\n                <Wave src={file} time={[start, end]} />\n                <div className='range-container'>\n                    <Range min={0} max={100} value={[start, end]} pushable={5} onChange={value => setTime(id, value)} />\n                </div>\n            </div>\n            <div className='volume'>\n                <Slider vertical min={0} max={100} value={volume * 100} onChange={value => setVolume(id, value / 100)} />\n            </div>\n        </div>\n    );\n});\n\nexport default Sound;","import React, { useEffect, useContext, Fragment } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faPause, faStop, faSortUp, faSortDown, faBan } from '@fortawesome/free-solid-svg-icons';\nimport { isMobile } from 'react-device-detect';\nimport { observer } from 'mobx-react-lite';\n\nimport Error from './Error.js';\nimport Tick from './Tick.js';\nimport Sound from './Sound.js';\nimport StoreContext from '../utils/context';\n\nconst App = observer(() => {\n\n    const { beatmakerStore: {\n        initialize,\n        beat: {\n            bpm,\n            tickCount,\n            ticks,\n            sounds,\n            name,\n        },\n        stepsPerTick,\n        currentTick,\n        tid,\n        playing,\n        nextTick,\n        addBpm,\n        addTickCount,\n        playSounds,\n        toggleSound,\n        setCurrentTick,\n        setTicks,\n        setTid,\n        setPlaying,\n        setName,\n    } } = useContext(StoreContext);\n\n    const onKeyDown = (e) => {\n        if (e.keyCode === 32 && e.target.type !== 'text') {\n            setPlaying();\n        }\n    };\n\n    useEffect(() => {\n        if (playing) playSounds();\n        setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n    }, [currentTick]);\n\n    useEffect(() => {\n        if (!ticks) return;\n        const length = ticks.length;\n        if (length < tickCount * stepsPerTick) {\n            for (let i = 0; i < stepsPerTick; i++) {\n                ticks.push({ id: length + i, sounds: [] });\n            }\n        } else if (length > tickCount * stepsPerTick) {\n            ticks.splice(-stepsPerTick, stepsPerTick);\n        }\n        setTicks([...ticks]);\n    }, [tickCount]);\n\n    useEffect(() => {\n        if (playing) {\n            playSounds();\n            setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n        } else {\n            clearTimeout(tid);\n        }\n    }, [playing]);\n\n    useEffect(() => {\n        initialize();\n    }, []);\n\n    return (\n        <div id='app' onKeyDown={onKeyDown} tabIndex='0'>\n            <Error />\n            {!isMobile ? (\n                <Fragment>\n                    <div id='header'>\n                        <div id='playback'>\n                            <div id='play-pause' className={playing ? 'playing' : ''} onClick={() => setPlaying(!playing)}>\n                                {playing ? <FontAwesomeIcon icon={faPause} /> : <FontAwesomeIcon icon={faPlay} />}\n                            </div>\n                            <div onClick={() => { setPlaying(false); setCurrentTick(0); }}>\n                                <FontAwesomeIcon icon={faStop} />\n                            </div>\n                        </div>\n                        <div id='settings'>\n                            <div>\n                                <div className='counter'>{bpm} BPM</div>\n                                {!playing && (\n                                    <div>\n                                        <div onClick={() => addBpm(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                        <div onClick={() => addBpm(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                                    </div>\n                                )}\n                            </div>\n                            <div>\n                                <div className='counter'>{tickCount} TICKS</div>\n                                {!playing && (\n                                    <div>\n                                        <div onClick={() => addTickCount(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                        <div onClick={() => addTickCount(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                                    </div>\n                                )}\n                            </div>\n                            <div className='name'>\n                                <input value={name || ''} onChange={setName} />\n                            </div>\n                        </div>\n                    </div>\n                    <div id='tabs'>\n                        <div id='ticks'>\n                            {ticks && ticks.map(tick => {\n                                const length = ticks.length * 34 + tickCount * 15;\n                                const shouldWrap = ticks.length / 2 === tick.id && length > window.innerWidth;\n                                return (\n                                    <React.Fragment key={tick.id}>\n                                        {shouldWrap && <br />}\n                                        <Tick\n                                            key={tick.id}\n                                            id={tick.id}\n                                            sounds={tick.sounds}\n                                            active={currentTick === tick.id}\n                                            toggleSound={toggleSound}\n                                            style={{ marginRight: tick.id % 4 === 3 ? '15px' : '2px' }}\n                                        />\n                                    </React.Fragment>\n                                )\n                            })}\n                        </div>\n                    </div>\n                    <div id='pads'>\n                        {sounds && sounds.map(sound => (\n                            <Sound key={sound.id} sound={sound} />\n                        ))}\n                    </div>\n                </Fragment>\n            ) : (\n                <div className='mobile'>\n                    <FontAwesomeIcon icon={faBan} />\n                    <p>Deze app wordt niet ondersteund op dit apparaat. Gebruik een laptop of PC om de app te gebruiken.</p>\n                </div>\n            )}\n        </div>\n    );\n});\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render((<App />), document.getElementById('root'));\n"],"sourceRoot":""}