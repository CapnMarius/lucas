{"version":3,"sources":["Tick.js","Wave.js","Sound.js","App.js","index.js"],"names":["colors","id","color","Tick","_ref","sounds","active","toggleSound","style","react_default","a","createElement","className","concat","map","key","background","opacity","includes","onClick","Wave","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","$el","ReactDOM","findDOMNode","$waveform","querySelector","wavesurfer","WaveSurfer","create","container","waveColor","progressColor","height","responsive","load","src","seekTo","startAt","on","onSeek","React","Component","Sound","file","onPlay","setTime","find","c","index_es","icon","faPlay","Wave_Wave","data","playSound","sound","seek","play","App","_useState","useState","_useState2","slicedToArray","bpm","setBpm","_useState3","_useState4","tickCount","setTickCount","_useState5","_useState6","currentTick","setCurrentTick","_useState7","_useState8","ticks","setTicks","_useState9","_useState10","tid","setTid","_useState11","_useState12","setSounds","_useState13","_useState14","soundInstances","setSoundInstances","_useState15","_useState16","playing","setPlaying","nextTick","next","addBpm","amount","addTickCount","playSounds","length","forEach","soundId","soundInstance","s","tickId","index","indexOf","splice","toConsumableArray","push","percentage","findIndex","duration","useEffect","preload","i","Howl","setTimeout","clearTimeout","onKeyDown","e","keyCode","tabIndex","faPause","faStop","faSortUp","faSortDown","type","name","onChange","target","files","reader","FileReader","onload","config","JSON","parse","result","readAsText","faUpload","objectData","window","navigator","msSaveOrOpenBlob","blob","Blob","decodeURIComponent","encodeURI","stringify","document","download","href","encodeURIComponent","body","appendChild","click","removeChild","exportToJson","faDownload","tick","shouldWrap","innerWidth","Fragment","src_Tick","marginRight","src_Sound","render","cjs","backend","html5Backend","src_App","getElementById"],"mappings":"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","file":"static/js/main.b344bb29.chunk.js","sourcesContent":["import React from 'react';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Tick = ({ id, sounds, active, toggleSound, style }) => (\n    <div className={`tick ${active ? 'active' : ''}`} style={style} >\n        {colors.map(color => (\n            <div\n                key={color.id}\n                className='sound-in-tick'\n                style={{ background: color.color, opacity: sounds.includes(color.id) ? '1' : '0.2' }}\n                onClick={() => toggleSound(color.id, id)}\n            ></div>\n        ))}\n    </div>\n);\n\nexport default Tick;","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport WaveSurfer from 'wavesurfer.js'\n\nexport default class Wave extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentDidMount() {\n    this.$el = ReactDOM.findDOMNode(this);\n    this.$waveform = this.$el.querySelector('.wave');\n    this.wavesurfer = WaveSurfer.create({\n      container: this.$waveform,\n      waveColor: 'gray',\n      progressColor: 'black',\n      height: '80',\n      responsive: true\n    });\n    this.wavesurfer.load(this.props.src);\n    this.wavesurfer.seekTo(this.props.startAt);\n    this.wavesurfer.on('seek', this.props.onSeek);\n  }\n  \n  render() {\n    return (\n      <div className='waveform'>\n        <div className='wave'></div>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay } from '@fortawesome/free-solid-svg-icons';\n\nimport Wave from './Wave.js';\n\nconst colors = [\n    { id: 1, color: '#60d394' },\n    { id: 2, color: '#d36060' },\n    { id: 3, color: '#c060d3' },\n    { id: 4, color: '#d3d160' },\n    { id: 5, color: '#6860d3' },\n    { id: 6, color: '#60b2d3' },\n];\n\nconst Sound = ({ id, file, startAt, onPlay, setTime }) => {\n\n    return (\n        <div\n            className='sound-container'\n            style={{ background: colors.find(c => c.id === id).color }}\n        >\n            <div>\n                <div onClick={() => onPlay(id)} className='button'>\n                    <FontAwesomeIcon icon={faPlay} />\n                </div>\n            </div>\n            <div>\n                <Wave src={file} onSeek={data => setTime(id, data)} startAt={startAt} />\n            </div>\n        </div>\n    );\n};\n\nexport default Sound;","import React, { useEffect, useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPlay, faPause, faStop, faSortUp, faSortDown, faDownload, faUpload } from '@fortawesome/free-solid-svg-icons';\nimport { Howl } from 'howler';\n\nimport Tick from './Tick.js';\nimport Sound from './Sound.js';\n\nconst playSound = (sound, startAt) => {\n    sound.sound.seek(startAt);\n    sound.sound.play();\n};\n\nconst exportToJson = (objectData) => {\n    let filename = 'config.json';\n    let contentType = 'application/json;charset=utf-8;';\n    if (window.navigator && window.navigator.msSaveOrOpenBlob) {\n      var blob = new Blob([decodeURIComponent(encodeURI(JSON.stringify(objectData)))], { type: contentType });\n      navigator.msSaveOrOpenBlob(blob, filename);\n    } else {\n      var a = document.createElement('a');\n      a.download = filename;\n      a.href = 'data:' + contentType + ',' + encodeURIComponent(JSON.stringify(objectData));\n      a.target = '_blank';\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n    }\n  }\n\nconst App = () => {\n\n    const [bpm, setBpm] = useState(144);\n    const [tickCount, setTickCount] = useState(8);\n    const [currentTick, setCurrentTick] = useState(0);\n    const [ticks, setTicks] = useState([]);\n    const [tid, setTid] = useState(0);\n    const [sounds, setSounds] = useState([]);\n    const [soundInstances, setSoundInstances] = useState([]);\n\n    // Playback\n    const [playing, setPlaying] = useState(false);\n\n    const nextTick = () => {\n        if (!playing) return;\n\n        const next = currentTick + 1;\n        if (next === tickCount * 4) {\n            setCurrentTick(0);\n        } else {\n            setCurrentTick(next);\n        }\n    };\n\n    const addBpm = (amount) => {\n        if (bpm + amount === 181 || bpm + amount === 59) return;\n        setBpm(bpm + amount);\n    };\n\n    const addTickCount = (amount) => {\n        if (tickCount + amount === 17 || tickCount + amount === 3) return;\n        setTickCount(tickCount + amount);\n    };\n\n    const playSounds = () => {\n        if (!ticks.length) return;\n        ticks[currentTick].sounds.forEach(soundId => {\n            const soundInstance = soundInstances.find(s => s.id === soundId);\n            const startAt = sounds.find(s => s.id === soundId).startAt;\n            playSound(soundInstance, startAt);\n        });\n    };\n\n    const toggleSound = (soundId, tickId) => {\n        if (ticks[tickId].sounds.includes(soundId)) {\n            const index = ticks[tickId].sounds.indexOf(soundId);\n            ticks[tickId].sounds.splice(index, 1);\n            setTicks([...ticks]);\n        } else {\n            ticks[tickId].sounds.push(soundId);\n            setTicks([...ticks]);\n        }\n    };\n\n    const setTime = (soundId, percentage) => {\n        const index = sounds.findIndex(s => s.id === soundId);\n        const soundInstance = soundInstances.find(s => s.id === soundId);\n        sounds[index].startAt = soundInstance.sound.duration() * percentage;\n        setSounds([...sounds]);\n    };\n\n    const onKeyDown = (e) => {\n        if (e.keyCode === 32) {\n            setPlaying(!playing);\n        }\n    };\n\n    const uploadConfig = (e) => {\n        if (!e.target.files[0]) return;\n        const reader = new FileReader();\n        reader.onload = (e) => {\n            const config = JSON.parse(e.target.result);\n            if ('bpm' in config && 'sounds' in config && 'tickCount' in config && 'ticks' in config) {\n                setBpm(config.bpm);\n                setTicks(config.ticks);\n                setSounds(config.sounds);\n                setTickCount(config.tickCount);\n            }\n        };\n        reader.readAsText(e.target.files[0]);\n    };\n\n    const downloadConfig = () => {\n        exportToJson({\n            bpm,\n            ticks,\n            sounds,\n            tickCount,\n        });\n    };\n\n    useEffect(() => {\n        sounds.forEach(sound => {\n            sound.preload = 'auto';\n        });\n\n        for (let i = 0; i < tickCount * 4; i++) {\n            ticks.push({ id: i, sounds: [] });\n        }\n\n        setTicks(ticks);\n\n        setSounds([\n            { id: 1, file: 'sounds/kick.wav', startAt: 0 },\n            { id: 2, file: 'sounds/hihat.wav', startAt: 0 },\n            { id: 3, file: 'sounds/snare.wav', startAt: 0 },\n            { id: 4, file: 'sounds/clap.wav', startAt: 0 },\n            { id: 5, file: 'sounds/perc.wav', startAt: 0 },\n            { id: 6, file: 'sounds/808.wav', startAt: 0 },\n        ]);\n    }, []);\n\n    useEffect(() => {\n        setSoundInstances([]);\n        sounds.forEach(sound => {\n            soundInstances.push({ id: sound.id, sound: new Howl({ src: [sound.file] })});\n        });\n        setSoundInstances([...soundInstances]);\n    }, [sounds]);\n\n    useEffect(() => {\n        if (playing) playSounds();\n        setTid(setTimeout(nextTick, 60000 / (bpm * 4)));\n    }, [currentTick]);\n\n    useEffect(() => {\n        const length = ticks.length;\n        if (length < tickCount * 4) {\n            for (let i = 0; i < 4; i++) {\n                ticks.push({ id: length + i, sounds: [] });\n            }\n        } else if (length > tickCount * 4) {\n            ticks.splice(-4, 4);\n        }\n        setTicks([...ticks]);\n        \n    }, [tickCount]);\n\n    useEffect(() => {\n        if (playing) {\n            playSounds();\n            setTimeout(nextTick, 60000 / (bpm * 4));\n        } else {\n            clearTimeout(tid);\n        }\n    }, [playing]);\n\n    return (\n        <div id='app' onKeyDown={onKeyDown} tabIndex='0'>\n            <div id='header'>\n                <div id='playback'>\n                    <div id='play-pause' className={playing ? 'playing' : ''} onClick={() => setPlaying(!playing)}>\n                        {playing ? <FontAwesomeIcon icon={faPause} /> : <FontAwesomeIcon icon={faPlay} />}\n                    </div>\n                    <div onClick={() => { setPlaying(false); setCurrentTick(0); }}>\n                        <FontAwesomeIcon icon={faStop} />\n                    </div>\n                </div>\n                <div id='settings'>\n                    <div>\n                        <div className='counter'>{bpm} BPM</div>\n                        {!playing && (\n                            <div>\n                                <div onClick={() => addBpm(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                <div onClick={() => addBpm(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                            </div>\n                        )}\n                    </div>\n                    <div>\n                        <div className='counter'>{tickCount} TICKS</div>\n                        {!playing && (\n                            <div>\n                                <div onClick={() => addTickCount(1)}><FontAwesomeIcon icon={faSortUp} /></div>\n                                <div onClick={() => addTickCount(-1)}><FontAwesomeIcon icon={faSortDown} /></div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n                <div id='download'>\n                    <div>\n                        <input type=\"file\" name=\"file\" onChange={uploadConfig} />\n                        <FontAwesomeIcon icon={faUpload} />\n                    </div>\n                    <div onClick={downloadConfig}>\n                        <FontAwesomeIcon icon={faDownload} />\n                    </div>\n                </div>\n            </div>\n            <div id='tabs'>\n                <div id='ticks'>\n                    {ticks.map(tick => {\n                        const length = ticks.length * 34 + tickCount * 15;\n                        const shouldWrap = ticks.length / 2 === tick.id && length > window.innerWidth;\n                        return (\n                            <React.Fragment>\n                                {shouldWrap && <br />}\n                                <Tick\n                                    key={tick.id}\n                                    id={tick.id}\n                                    sounds={tick.sounds}\n                                    active={currentTick === tick.id}\n                                    toggleSound={toggleSound}\n                                    style={{ marginRight: tick.id % 4 === 3 ? '15px' : '2px' }}\n                                />\n                            </React.Fragment>\n                        )\n                    })}\n                </div>\n            </div>\n            <div id='pads'>\n                {sounds.map(sound => (\n                    <Sound\n                        key={sound.id}\n                        id={sound.id}\n                        onPlay={() => playSound(soundInstances.find(s => s.id === sound.id), sound.startAt)}\n                        file={sound.file}\n                        setTime={setTime}\n                        startAt={sound.startAt}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { DragDropContextProvider } from 'react-dnd'\nimport html5Backend from 'react-dnd-html5-backend'\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render((\n<DragDropContextProvider backend={html5Backend}>\n    <App />\n</DragDropContextProvider>\n), document.getElementById('root'));\n"],"sourceRoot":""}